<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ssafy.ws.trip.route.repository.RouteRepository">	
	<insert id="insertRoute" parameterType="RouteDto" useGeneratedKeys="true" keyProperty="routeId">
        INSERT INTO route(user_id, title, created_at) 
        VALUES(#{userId}, #{title}, now())
    </insert>
    <insert id="insertRouteAttrs">
	    INSERT INTO route_relation (route_id, attraction_id, `order`) 
	    VALUES(#{routeId}, #{attractionId}, #{order})
  	</insert>
</mapper>
